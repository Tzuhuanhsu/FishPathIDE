'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
exports.onClickExport = exports.ready = exports.update = exports.methods = exports.$ = exports.template = void 0;
exports.template = `
    <ui-prop type="dump" class="prop-pathData" name="pathData"></ui-prop>
    <ui-prop type="dump" class="prop-pathRoot" name="Path Root"></ui-prop>
    <ui-prop type="dump" class="prop-FormationRoot" name="Formation Root"></ui-prop>
    <ui-prop type="dump" class="prop-positions" name="Positions"></ui-prop>
    <ui-prop type="dump" class="prop-color" name="Color"></ui-prop>
    <ui-prop type="dump" class="prop-refresh" name="refresh"></ui-prop>
    <ui-button class="exportButton">點我輸出</ui-button>
`;
exports.$ = {
    pathData: '.prop-pathData',
    pathRoot: '.prop-pathRoot',
    formationRoot: '.prop-FormationRoot',
    positions: '.prop-positions',
    color: '.prop-color',
    refresh: ".prop-refresh",
    exportButton: '.exportButton',
};
exports.methods = {
    onClickExport
};
function update(dump) {
    this.dump = dump;
    this.$.pathData.render(dump.value.pathData);
    this.$.pathRoot.render(dump.value.pathRoot);
    this.$.positions.render(dump.value.positions);
    this.$.color.render(dump.value.color);
    this.$.formationRoot.render(dump.value.formationRoot);
    this.$.refresh.render(dump.value.refreshPath);
}
exports.update = update;
function ready() {
    this.$.exportButton.addEventListener('confirm', onClickExport.bind(this));
}
exports.ready = ready;
async function onClickExport() {
    const pathInfos = [];
    console.log(`=====輸出路徑資料======`, this.dump.value);
    //組合路徑資料
    for (let index in this.dump.value.fishPositions.value) {
        const data = {
            position: {
                x: this.dump.value.fishPositions.value[index].value.x,
                y: this.dump.value.fishPositions.value[index].value.y,
                z: this.dump.value.fishPositions.value[index].value.z
            },
            rotation: {
                x: this.dump.value.fishRotations.value[index].value.x,
                y: this.dump.value.fishRotations.value[index].value.y,
                z: this.dump.value.fishRotations.value[index].value.z
            },
            scale: {
                x: this.dump.value.fishScales.value[index].value.x,
                y: this.dump.value.fishScales.value[index].value.y,
                z: this.dump.value.fishScales.value[index].value.z
            },
            speed: this.dump.value.fishSpeeds.value[index].value,
            delayTime: this.dump.value.fishDelays.value[index].value
        };
        pathInfos.push(data);
    }
    console.log(`=====輸出路徑資料======`, pathInfos);
    const pathUUID = this.dump.value.pathData.value.uuid;
    Editor.Message.send('fish-creator-extension', 'export-json', {
        pathUUID: pathUUID,
        data: pathInfos,
    });
}
exports.onClickExport = onClickExport;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcC1leHRlbmQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zb3VyY2UvaW5zcGVjdG9yL2NvbXAtZXh0ZW5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQzs7O0FBaUNBLFFBQUEsUUFBUSxHQUFHOzs7Ozs7OztDQVF2QixDQUFDO0FBRVcsUUFBQSxDQUFDLEdBQ2Q7SUFDSSxRQUFRLEVBQUUsZ0JBQWdCO0lBQzFCLFFBQVEsRUFBRSxnQkFBZ0I7SUFDMUIsYUFBYSxFQUFFLHFCQUFxQjtJQUNwQyxTQUFTLEVBQUUsaUJBQWlCO0lBQzVCLEtBQUssRUFBRSxhQUFhO0lBQ3BCLE9BQU8sRUFBRSxlQUFlO0lBQ3hCLFlBQVksRUFBRSxlQUFlO0NBQ2hDLENBQUM7QUFDVyxRQUFBLE9BQU8sR0FBRztJQUNuQixhQUFhO0NBQ2hCLENBQUM7QUFPRixTQUFnQixNQUFNLENBQW1CLElBQVM7SUFFOUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDakIsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFFLENBQUM7SUFDOUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFFLENBQUM7SUFDOUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFFLENBQUM7SUFDaEQsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFFLENBQUM7SUFDeEMsSUFBSSxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFFLENBQUM7SUFDeEQsSUFBSSxDQUFDLENBQUMs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QUFFO1FBQzFELFFBQVEsRUFBRSxRQUFRO1FBQ2xCLElBQUksRUFBRSxTQUFTO0tBQ2xCLENBQUUsQ0FBQztBQUVSLENBQUM7QUFwQ0Qsc0NBb0NDIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG4vKipcclxuICog6a2a5aC06Lev5b6R57eo6Lyv5pO05YWFXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIOi3r+W+keizh+aWmee1kOani1xyXG4gKi9cclxudHlwZSBGaXNoUGF0aERhdGEgPVxyXG4gICAge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOS9jee9rlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHBvc2l0aW9uOiB7IHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDml4vovYlcclxuICAgICAgICAgKi9cclxuICAgICAgICByb3RhdGlvbjogeyB4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog57iu5pS+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2NhbGU6IHsgeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOW7tumBsuaZgumWk1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGRlbGF5VGltZTogbnVtYmVyLFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOmAn+W6plxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNwZWVkOiBudW1iZXIsXHJcbiAgICB9XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlID0gYFxyXG4gICAgPHVpLXByb3AgdHlwZT1cImR1bXBcIiBjbGFzcz1cInByb3AtcGF0aERhdGFcIiBuYW1lPVwicGF0aERhdGFcIj48L3VpLXByb3A+XHJcbiAgICA8dWktcHJvcCB0eXBlPVwiZHVtcFwiIGNsYXNzPVwicHJvcC1wYXRoUm9vdFwiIG5hbWU9XCJQYXRoIFJvb3RcIj48L3VpLXByb3A+XHJcbiAgICA8dWktcHJvcCB0eXBlPVwiZHVtcFwiIGNsYXNzPVwicHJvcC1Gb3JtYXRpb25Sb290XCIgbmFtZT1cIkZvcm1hdGlvbiBSb290XCI+PC91aS1wcm9wPlxyXG4gICAgPHVpLXByb3AgdHlwZT1cImR1bXBcIiBjbGFzcz1cInByb3AtcG9zaXRpb25zXCIgbmFtZT1cIlBvc2l0aW9uc1wiPjwvdWktcHJvcD5cclxuICAgIDx1aS1wcm9wIHR5cGU9XCJkdW1wXCIgY2xhc3M9XCJwcm9wLWNvbG9yXCIgbmFtZT1cIkNvbG9yXCI+PC91aS1wcm9wPlxyXG4gICAgPHVpLXByb3AgdHlwZT1cImR1bXBcIiBjbGFzcz1cInByb3AtcmVmcmVzaFwiIG5hbWU9XCJyZWZyZXNoXCI+PC91aS1wcm9wPlxyXG4gICAgPHVpLWJ1dHRvbiBjbGFzcz1cImV4cG9ydEJ1dHRvblwiPum7nuaIkei8uOWHujwvdWktYnV0dG9uPlxyXG5gO1xyXG5cclxuZXhwb3J0IGNvbnN0ICQgPVxyXG57XHJcbiAgICBwYXRoRGF0YTogJy5wcm9wLXBhdGhEYXRhJyxcclxuICAgIHBhdGhSb290OiAnLnByb3AtcGF0aFJvb3QnLFxyXG4gICAgZm9ybWF0aW9uUm9vdDogJy5wcm9wLUZvcm1hdGlvblJvb3QnLFxyXG4gICAgcG9zaXRpb25zOiAnLnByb3AtcG9zaXRpb25zJyxcclxuICAgIGNvbG9yOiAnLnByb3AtY29sb3InLFxyXG4gICAgcmVmcmVzaDogXCIucHJvcC1yZWZyZXNoXCIsXHJcbiAgICBleHBvcnRCdXR0b246ICcuZXhwb3J0QnV0dG9uJyxcclxufTtcclxuZXhwb3J0IGNvbnN0IG1ldGhvZHMgPSB7XHJcbiAgICBvbkNsaWNrRXhwb3J0XHJcbn07XHJcbnR5cGUgU2VsZWN0b3I8JD4gPSB7ICQ6IFJlY29yZDxrZXlvZiAkLCBhbnkgfCBudWxsPiB9O1xyXG50eXBlIFBhbmVsVGhpcyA9IFNlbGVjdG9yPHR5cGVvZiAkPiAmXHJcbntcclxuICAgIGR1bXA6IGFueSxcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUoIHRoaXM6IFBhbmVsVGhpcywgZHVtcDogYW55IClcclxue1xyXG4gICAgdGhpcy5kdW1wID0gZHVtcDtcclxuICAgIHRoaXMuJC5wYXRoRGF0YS5yZW5kZXIoIGR1bXAudmFsdWUucGF0aERhdGEgKTtcclxuICAgIHRoaXMuJC5wYXRoUm9vdC5yZW5kZXIoIGR1bXAudmFsdWUucGF0aFJvb3QgKTtcclxuICAgIHRoaXMuJC5wb3NpdGlvbnMucmVuZGVyKCBkdW1wLnZhbHVlLnBvc2l0aW9ucyApO1xyXG4gICAgdGhpcy4kLmNvbG9yLnJlbmRlciggZHVtcC52YWx1ZS5jb2xvciApO1xyXG4gICAgdGhpcy4kLmZvcm1hdGlvblJvb3QucmVuZGVyKCBkdW1wLnZhbHVlLmZvcm1hdGlvblJvb3QgKTtcclxuICAgIHRoaXMuJC5yZWZyZXNoLnJlbmRlciggZHVtcC52YWx1ZS5yZWZyZXNoUGF0aCApO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlYWR5KCB0aGlzOiBQYW5lbFRoaXMgKVxyXG57XHJcbiAgICB0aGlzLiQuZXhwb3J0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoICdjb25maXJtJywgb25DbGlja0V4cG9ydC5iaW5kKCB0aGlzICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG9uQ2xpY2tFeHBvcnQoIHRoaXM6IFBhbmVsVGhpcyApXHJcbntcclxuICAgIGNvbnN0IHBhdGhJbmZvczogRmlzaFBhdGhEYXRhW10gPSBbXTtcclxuICAgIGNvbnNvbGUubG9nKCBgPT09PT3ovLjlh7rot6/lvpHos4fmlpk9PT09PT1gLCB0aGlzLmR1bXAudmFsdWUgKTtcclxuICAgIC8v57WE5ZCI6Lev5b6R6LOH5paZXHJcbiAgICBmb3IgKCBsZXQgaW5kZXggaW4gdGhpcy5kdW1wLnZhbHVlLmZpc2hQb3NpdGlvbnMudmFsdWUgKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGRhdGE6IEZpc2hQYXRoRGF0YSA9IHtcclxuICAgICAgICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICAgICAgICAgIHg6IHRoaXMuZHVtcC52YWx1ZS5maXNoUG9zaXRpb25zLnZhbHVlWyBpbmRleCBdLnZhbHVlLngsXHJcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmR1bXAudmFsdWUuZmlzaFBvc2l0aW9ucy52YWx1ZVsgaW5kZXggXS52YWx1ZS55LFxyXG4gICAgICAgICAgICAgICAgejogdGhpcy5kdW1wLnZhbHVlLmZpc2hQb3NpdGlvbnMudmFsdWVbIGluZGV4IF0udmFsdWUuelxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByb3RhdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgeDogdGhpcy5kdW1wLnZhbHVlLmZpc2hSb3RhdGlvbnMudmFsdWVbIGluZGV4IF0udmFsdWUueCxcclxuICAgICAgICAgICAgICAgIHk6IHRoaXMuZHVtcC52YWx1ZS5maXNoUm90YXRpb25zLnZhbHVlWyBpbmRleCBdLnZhbHVlLnksXHJcbiAgICAgICAgICAgICAgICB6OiB0aGlzLmR1bXAudmFsdWUuZmlzaFJvdGF0aW9ucy52YWx1ZVsgaW5kZXggXS52YWx1ZS56XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNjYWxlOiB7XHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLmR1bXAudmFsdWUuZmlzaFNjYWxlcy52YWx1ZVsgaW5kZXggXS52YWx1ZS54LFxyXG4gICAgICAgICAgICAgICAgeTogdGhpcy5kdW1wLnZhbHVlLmZpc2hTY2FsZXMudmFsdWVbIGluZGV4IF0udmFsdWUueSxcclxuICAgICAgICAgICAgICAgIHo6IHRoaXMuZHVtcC52YWx1ZS5maXNoU2NhbGVzLnZhbHVlWyBpbmRleCBdLnZhbHVlLnpcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3BlZWQ6IHRoaXMuZHVtcC52YWx1ZS5maXNoU3BlZWRzLnZhbHVlWyBpbmRleCBdLnZhbHVlLFxyXG4gICAgICAgICAgICBkZWxheVRpbWU6IHRoaXMuZHVtcC52YWx1ZS5maXNoRGVsYXlzLnZhbHVlWyBpbmRleCBdLnZhbHVlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwYXRoSW5mb3MucHVzaCggZGF0YSApO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coIGA9PT09Pei8uOWHuui3r+W+keizh+aWmT09PT09PWAsIHBhdGhJbmZvcyApO1xyXG4gICAgY29uc3QgcGF0aFVVSUQgPSB0aGlzLmR1bXAudmFsdWUucGF0aERhdGEudmFsdWUudXVpZDtcclxuICAgIEVkaXRvci5NZXNzYWdlLnNlbmQoICdmaXNoLWNyZWF0b3ItZXh0ZW5zaW9uJywgJ2V4cG9ydC1qc29uJywge1xyXG4gICAgICAgIHBhdGhVVUlEOiBwYXRoVVVJRCxcclxuICAgICAgICBkYXRhOiBwYXRoSW5mb3MsXHJcbiAgICB9ICk7XHJcblxyXG59XHJcblxyXG4iXX0=